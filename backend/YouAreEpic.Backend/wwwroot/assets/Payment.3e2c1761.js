import{_ as c}from"./index.54f98d04.js";import{o as l,c as d,a as t,t as r,f as p,g,m as h,v as _,l as v,F as f,p as y,h as w}from"./vendor.260b2556.js";import{a as b}from"./index.fa753d9e.js";import"./axios.c5189851.js";const D={name:"ngoitemdetailed",props:{logo:String,name:String,description:String,shortDescription:String,website:String,id:String}},S={class:"wrapperDetailed"},k={class:"itemDetailed"},x=["src"],B={class:"ngoname"},C={class:"detailedDetails"},F={class:"detailedDetail"};function I(e,o,a,u,n,i){return l(),d("div",S,[t("div",k,[t("img",{src:a.logo,alt:"",class:"ngologo"},null,8,x),t("span",B,r(a.name),1)]),t("div",C,[t("p",F,r(a.shortDescription),1)])])}var N=c(D,[["render",I]]);const P={name:"Payment",components:{ngoitemdetailed:N},methods:{showDialogFunc(e){this.amount=e,this.showDialog=!0},async submit(){this.id,this.amount,await fetch("/api/payment/create-checkout-session",{headers:[["Content-Type","application/json"]],method:"POST",body:JSON.stringify({ngoid:this.id,money:this.amount})}).then(e=>e.json()).then(e=>window.location.href=e.url)}},mounted(){b.get(`/api/npos/${this.id}`).then(e=>this.ngo=e.data)},created(){let e=this.$route.params;this.id=e.ngoid},data(){return{id:"",ngo:{},customAmount:!1,showDialog:!1,amount:0,amountInput:0}}},V=e=>(y("data-v-dc623994"),e=e(),w(),e),j={class:"container"},T={class:"buttonwrapper"},$={class:"textfieldwrapper"},E=V(()=>t("label",{class:"label"},"Eigenen Betrag",-1)),J={key:0,class:"dialog",open:""},O={style:{display:"flex","justify-content":"center"}};function A(e,o,a,u,n,i){const m=p("ngoitemdetailed");return l(),d(f,null,[g(m,{logo:n.ngo.logoLink,name:n.ngo.name,description:n.ngo.description,"short-description":n.ngo.shortDescription,id:n.ngo.id},null,8,["logo","name","description","short-description","id"]),t("div",j,[t("div",T,[t("button",{class:"moneyButton",onClick:o[0]||(o[0]=s=>i.showDialogFunc(1))},"1\u20AC"),t("button",{class:"moneyButton",onClick:o[1]||(o[1]=s=>i.showDialogFunc(2))},"2\u20AC"),t("button",{class:"moneyButton",onClick:o[2]||(o[2]=s=>i.showDialogFunc(5))},"5\u20AC"),t("button",{class:"moneyButton",onClick:o[3]||(o[3]=s=>i.showDialogFunc(10))},"10\u20AC")]),t("div",$,[E,h(t("input",{class:"textfield","onUpdate:modelValue":o[4]||(o[4]=s=>n.amountInput=s),min:"1",max:"9999",type:"number",name:"number",placeholder:"100\u20AC"},null,512),[[_,n.amountInput]])]),t("button",{type:"submit",class:"submitButton",onClick:o[5]||(o[5]=s=>i.showDialogFunc(n.amountInput))},"Spenden")]),n.showDialog?(l(),d("dialog",J,[t("p",null,"Wollen Sie wirklich "+r(n.amount)+"\u20AC spenden ?",1),t("div",O,[t("button",{class:"dialogButton",onClick:o[6]||(o[6]=s=>n.showDialog=!1)},"Nein"),t("button",{class:"dialogButton",onClick:o[7]||(o[7]=(...s)=>i.submit&&i.submit(...s))},"Ja")])])):v("",!0)],64)}var q=c(P,[["render",A],["__scopeId","data-v-dc623994"]]);export{q as default};
